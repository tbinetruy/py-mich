parameter (or
            (or (pair %artifacts (string %artifacts_url) (string %artifacts_hash)) (string %close))
            (pair %open (string %_open) (pair (string %manifest_url) (string %manifest_hash))));
storage (pair (address %admin)
              (pair (string %manifest_url)
                    (pair (string %manifest_hash)
                          (pair (string %_open)
                                (pair (string %_close)
                                      (pair (string %artifacts_url) (string %artifacts_hash)))))));
code { DUP ;
       CDR ;
       DUG 1 ;
       CAR ;
       LAMBDA
         (pair (bool %condition) (string %message))
         int
         { DIG 0 ;
           DUP ;
           DUG 1 ;
           GET 1 ;
           DIG 1 ;
           DUP ;
           DUG 2 ;
           GET 2 ;
           DIG 1 ;
           DUP ;
           DUG 2 ;
           NOT ;
           IF { DIG 0 ; DUP ; DUG 1 ; FAILWITH } {} ;
           PUSH int 0 ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } } ;
       DIG 1 ;
       IF_LEFT
         { IF_LEFT
             { DIG 0 ;
               DUP ;
               DUG 1 ;
               GET 1 ;
               DIG 1 ;
               DUP ;
               DUG 2 ;
               GET 2 ;
               DIG 3 ;
               DUP ;
               DUG 4 ;
               PUSH string "Only admin can call this entrypoint" ;
               DIG 6 ;
               DUP ;
               DUG 7 ;
               GET 1 ;
               SENDER ;
               COMPARE ;
               EQ ;
               PAIR 2 ;
               EXEC ;
               DIG 5 ;
               DUP ;
               DUG 6 ;
               DIG 3 ;
               DUP ;
               DUG 4 ;
               UPDATE 11 ;
               DIP 6 { DROP } ;
               DUG 5 ;
               DIG 5 ;
               DUP ;
               DUG 6 ;
               DIG 2 ;
               DUP ;
               DUG 3 ;
               UPDATE 12 ;
               DIP 6 { DROP } ;
               DUG 5 ;
               DIG 5 ;
               DUP ;
               DUG 6 ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               NIL operation ;
               PAIR }
             { DIG 1 ;
               DUP ;
               DUG 2 ;
               PUSH string "Only admin can call this entrypoint" ;
               DIG 4 ;
               DUP ;
               DUG 5 ;
               GET 1 ;
               SENDER ;
               COMPARE ;
               EQ ;
               PAIR 2 ;
               EXEC ;
               DIG 3 ;
               DUP ;
               DUG 4 ;
               DIG 2 ;
               DUP ;
               DUG 3 ;
               UPDATE 9 ;
               DIP 4 { DROP } ;
               DUG 3 ;
               DIG 3 ;
               DUP ;
               DUG 4 ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               DIP 1 { DROP } ;
               NIL operation ;
               PAIR } }
         { DIG 0 ;
           DUP ;
           DUG 1 ;
           GET 1 ;
           DIG 1 ;
           DUP ;
           DUG 2 ;
           GET 3 ;
           DIG 2 ;
           DUP ;
           DUG 3 ;
           GET 4 ;
           DIG 4 ;
           DUP ;
           DUG 5 ;
           PUSH string "Only admin can call this entrypoint" ;
           DIG 7 ;
           DUP ;
           DUG 8 ;
           GET 1 ;
           SENDER ;
           COMPARE ;
           EQ ;
           PAIR 2 ;
           EXEC ;
           DIG 6 ;
           DUP ;
           DUG 7 ;
           DIG 4 ;
           DUP ;
           DUG 5 ;
           UPDATE 7 ;
           DIP 7 { DROP } ;
           DUG 6 ;
           DIG 6 ;
           DUP ;
           DUG 7 ;
           DIG 3 ;
           DUP ;
           DUG 4 ;
           UPDATE 3 ;
           DIP 7 { DROP } ;
           DUG 6 ;
           DIG 6 ;
           DUP ;
           DUG 7 ;
           DIG 2 ;
           DUP ;
           DUG 3 ;
           UPDATE 5 ;
           DIP 7 { DROP } ;
           DUG 6 ;
           DIG 6 ;
           DUP ;
           DUG 7 ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } ;
           DIP 1 { DROP } ;
           NIL operation ;
           PAIR } }